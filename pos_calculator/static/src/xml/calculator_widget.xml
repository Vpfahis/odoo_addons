<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="point_of_sale.ControlButtons" t-inherit="point_of_sale.ControlButtons" t-inherit-mode="extension">
        <xpath expr="//OrderlineNoteButton" position="after">
            <t t-if="pos.config.enable_calculator">
                <button class="btn btn-light me-2 btn-lg calculator-control-btn" t-on-click="() => this.onClickCalculator()">
                    <i class="fa fa-calculator me-1" role="img" aria-label="Calculator" title="Calculator"/>
                    Calculator
                </button>
            </t>
        </xpath>
    </t>

    <t t-name="calculator_in_pos.CalculatorDialog">
        <Dialog title="'Calculator'" size="'md'">
            <div class="calculator-dialog-content">
                <div class="calculator-container">
                    <!-- Display Screen -->
                    <div class="calculator-display">
                        <input type="text"
                               class="form-control calculator-screen text-end"
                               t-att-value="state.display"
                               readonly="readonly"/>
                    </div>

                    <!-- Button Grid -->
                    <div class="calculator-buttons">
                    <!-- Row 1 -->
                    <button class="btn btn-danger calculator-btn" t-on-click="clear">CE</button>
                    <button class="btn btn-secondary calculator-btn" t-on-click="backspace">⌫</button>
                    <button class="btn btn-info calculator-btn" t-on-click="() => this.performOperation('÷')">÷</button>
                    <button class="btn btn-info calculator-btn" t-on-click="() => this.performOperation('×')">×</button>

                    <!-- Row 2 -->
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(7)">7</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(8)">8</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(9)">9</button>
                    <button class="btn btn-info calculator-btn" t-on-click="() => this.performOperation('-')">-</button>

                    <!-- Row 3 -->
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(4)">4</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(5)">5</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(6)">6</button>
                    <button class="btn btn-info calculator-btn" t-on-click="() => this.performOperation('+')">+</button>

                    <!-- Row 4 -->
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(1)">1</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(2)">2</button>
                    <button class="btn btn-light calculator-btn" t-on-click="() => this.inputNumber(3)">3</button>
                    <button class="btn btn-success calculator-btn" t-on-click="equals" style="grid-row: span 2; height: 118px;">=</button>

                    <!-- Row 5 -->
                    <button class="btn btn-light calculator-btn calculator-zero" t-on-click="() => this.inputNumber(0)">0</button>
                    <button class="btn btn-light calculator-btn" t-on-click="inputDecimal">.</button>
                    </div>
                </div>
            </div>

            <t t-set-slot="footer">
                <button class="btn btn-primary" t-on-click="onConfirm">OK</button>
            </t>
        </Dialog>
    </t>

</templates>